package com.wms.abstractclient.module.modules.exploit;

import com.wms.abstractclient.event.PacketReceiveEvent;
import com.wms.abstractclient.module.Module;
import net.minecraft.network.play.server.SPacketEntityTeleport;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import org.lwjgl.input.Keyboard;

import java.util.Objects;

public class PetTP extends Module {
    public PetTP() {
        super("PetTPCoordinates", Category.EXPLOIT, Keyboard.KEY_NONE);
    }

    @SubscribeEvent
    public void onPacket(PacketReceiveEvent event){
        if(nullcheck()){return;}
        if(event.getPacket() instanceof SPacketEntityTeleport){
            SPacketEntityTeleport packet = (SPacketEntityTeleport) event.getPacket();
            String coordinates = " X: " + (int)packet.getX() + " Y: " + (int)packet.getY() + " Z: " + (int)packet.getZ();

            if(Objects.requireNonNull(mc.world.getEntityByID(packet.getEntityId())).getName().equalsIgnoreCase("Cat")) {
                sendMsg("Cat teleported to" + coordinates);
            }else if(Objects.requireNonNull(mc.world.getEntityByID(packet.getEntityId())).getName().equalsIgnoreCase("Wolf")){
                sendMsg("Wolf teleported to" + coordinates);
            }
        }
    }
}
